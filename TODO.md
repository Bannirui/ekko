## TODO LIST

- [X] 1 管理器职责分两块 面向客户端提供管理功能 在客户端和服务端之间提供负载均衡器功能
- [X] 2 管理器面向客户端提供RPC微服务调用
- [X] 3 客户端为web应用 主体为用户管理和聊天 集群部署的时候对外暴露一条域名
- [X] 4 服务端提供RPC微服务调用
- [X] 5 管理器缓存只用远程redis集群 引入本地缓存的收益和系统复杂度相比性价比太低
- [X] 6 服务端只用内存缓存即可 首先是因为集群部署 单点故障可以将故障转嫁给客户端让其发起重连 其二是要缓存的是Channel对象 如何序列化\反序列化是个问题
- [ ] 7 鉴权放到最后做 除了注册用户之外都要进行鉴权
- [ ] 8 好友管理 添加好友只支持添加在线用户 如果要添加离线用户就要在server模块或者mgr模块进行添加好友消息的持久化处理了
- [X] 9 client模块最初的设计是一个通信进程 但是为了调试方便 把整个client模块做成一个tomcat进程 多个通信线程对应多用户
- [X] 10 服务端收到客户端发送的消息 发送给自己
- [X] 11 发送给好友(好友在线\离线) 
- [ ] 12 添加好友请求 
- [ ] 13 入群请求
- [ ] 14 拒绝好友添加请求 
- [ ] 15 拒绝入群请求
- [ ] 16 服务端接收到客户端发送的消息 发送给群
- [ ] 17 客户端\服务端Socket的重连逻辑全部通过心跳下沉给客户端做 在正常场景之下客户端:服务端=1:N 辅助性的基建工作都交给客户端维护
- [ ] 18 服务端怎么处理离线客户端的待发送信息 如果按照记录条数的话就要在服务端为每个离线uid维护一个定容量的队列
- [ ] 19 在18前提下 客户端活跃上线了 怎么保证历史信息与当前信息的顺序性 如果是队列控制的话 服务端的线程模型就得变更为用线程实例包裹着服务端Socket让其死循环在消息队列上
- [ ] 20 缓存在服务端的channel异常了处理机制 如何清除缓存